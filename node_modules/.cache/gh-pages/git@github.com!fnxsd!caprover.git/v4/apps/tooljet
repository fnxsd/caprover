{"captainVersion":4,"services":{"$$cap_appname-client":{"tty":true,"stdin_open":true,"image":"tooljet/tooljet-client-ce:$$cap_tooljet_client_version","restart":"always","environment":["ORM_LOGGING=all","PG_DB=$$cap_pg_db","PG_USER=$$cap_pg_user","PG_HOST=srv-captain--$$cap_appname-postgres","PG_PASS=$$cap_pg_pass","TOOLJET_HOST=http://srv-captain--$$cap_appname-server","LOCKBOX_MASTER_KEY=$$cap_lockbox_master_key","SECRET_KEY_BASE=$$cap_secret_key_base","SMTP_DOMAIN=$$cap_tooljet_smtp_host","SMTP_PORT=$$cap_tooljet_smtp_port","SMTP_USERNAME=$$cap_tooljet_smtp_user","SMTP_PASSWORD=$$cap_tooljet_smtp_password","DEFAULT_FROM_EMAIL=$$cap_tooljet_smtp_from","COMMENT_FEATURE_ENABLE=$$cap_comment_feature_enable","ENABLE_MULTIPLAYER_EDITING=$$cap_enable_multiplayer_editing","DISABLE_SIGNUPS=$$cap_disable_signups"],"depends_on":["$$cap_appname-server"],"volumes":["$$cap_appname-logs:/var/log/openresty/","$$cap_appname-certs:/etc/resty-auto-ssl/","$$cap_appname-fallbackcerts:/etc/fallback-certs"],"caproverExtra":{"containerHttpPort":"80"},"command":"openresty -g \"daemon off;\""},"$$cap_appname-server":{"image":"tooljet/tooljet-server-ce:$$cap_tooljet_server_version","tty":true,"stdin_open":true,"restart":"always","ports":[3000],"environment":["SERVE_CLIENT=\"false\"","ORM_LOGGING=all","PG_DB=$$cap_pg_db","PG_USER=$$cap_pg_user","PG_HOST=srv-captain--$$cap_appname-postgres","PG_PASS=$$cap_pg_pass","TOOLJET_HOST=http://srv-captain--$$cap_appname-server","LOCKBOX_MASTER_KEY=$$cap_lockbox_master_key","SECRET_KEY_BASE=$$cap_secret_key_base","SMTP_DOMAIN=$$cap_tooljet_smtp_host","SMTP_PORT=$$cap_tooljet_smtp_port","SMTP_USERNAME=$$cap_tooljet_smtp_user","SMTP_PASSWORD=$$cap_tooljet_smtp_password","DEFAULT_FROM_EMAIL=$$cap_tooljet_smtp_from","COMMENT_FEATURE_ENABLE=$$cap_comment_feature_enable","ENABLE_MULTIPLAYER_EDITING=$$cap_enable_multiplayer_editing","DISABLE_SIGNUPS=$$cap_disable_signups"],"command":"npm run start:prod","depends_on":["$$cap_appname-postgres"]},"$$cap_appname-postgres":{"image":"postgres:14","restart":"always","volumes":["$$cap_appname-postgres:/var/lib/postgresql/data"],"environment":{"POSTGRES_USER":"$$cap_pg_user","POSTGRES_PASSWORD":"$$cap_pg_pass","POSTGRES_DB":"$$cap_pg_db"}}},"caproverOneClickApp":{"instructions":{"start":"Install","end":"You can now access your Passky instance at http://$$cap_appname.$$cap_root_domain"},"displayName":"tooljet","isOfficial":false,"description":"ToolJet is an open-source low-code framework to build and deploy custom internal tools. ToolJet can connect to your data sources.","variables":[{"id":"$$cap_tooljet_client_version","label":"tooljet client Version Tag","description":"Check out their Docker page for the valid tags https://hub.docker.com/r/tooljet/tooljet-client-ce/tags/","defaultValue":"latest","validRegex":"/^([^\\s^\\/])+$/"},{"id":"$$cap_tooljet_server_version","label":"tooljet server Version Tag","description":"Check out their Docker page for the valid tags https://hub.docker.com/r/tooljet/tooljet-server-ce/tags/","defaultValue":"latest","validRegex":"/^([^\\s^\\/])+$/"},{"defaultValue":"smtp.eu.mailgun.org","description":"The STMP host you will be using","id":"$$cap_tooljet_smtp_host","label":"STMP host"},{"defaultValue":"587","description":"The STMP port you will be using","id":"$$cap_tooljet_smtp_port","label":"STMP port"},{"defaultValue":"your_email@gmail.com","description":"Your user on the SMTP service","id":"$$cap_tooljet_smtp_user","label":"STMP user"},{"description":"Your password on the SMTP service","id":"$$cap_tooljet_smtp_password","label":"STMP password"},{"defaultValue":"your_email@gmail.com","description":"STMP from address","id":"$$cap_tooljet_smtp_from","label":"STMP from address"},{"id":"$$cap_pg_user","label":"Postgres Username","description":"","default":"postgres","validRegex":"/.{1,}/"},{"id":"$$cap_pg_pass","label":"Postgres Password","description":"","default":"postgres","validRegex":"/.{1,}/"},{"id":"$$cap_pg_db","label":"Postgres Default Database","description":"","default":"tooljet","validRegex":"/.{1,}/"},{"id":"$$cap_pg_initdb_args","label":"OPTIONAL: Arguments for 'postgres initdb'","description":"For example, --data-checksums","validRegex":"/.{0,}/"},{"id":"$$cap_disable_signups","label":"OPTIONAL: Disable signups","description":"If set to true, users will not be able to sign up for an account","defaultValue":"true","validRegex":"/^(true|false)$/"},{"id":"$$cap_enable_multiplayer_editing","label":"OPTIONAL: Enable multiplayer editing","description":"If set to true, users will be able to edit their own maps","defaultValue":"true","validRegex":"/^(true|false)$/"},{"id":"$$cap_comment_feature_enable","label":"OPTIONAL: Enable comments","description":"If set to true, users will be able to comment on maps","defaultValue":"true","validRegex":"/^(true|false)$/"},{"id":"$$cap_lockbox_master_key","label":"OPTIONAL: Lockbox master key","description":"If set, users will be able to use the lockbox feature","defaultValue":"$$cap_gen_random_hex(32)"},{"id":"$$cap_secret_key_base","label":"OPTIONAL: Secret key base","description":"Secret key base for the application","defaultValue":"$$cap_gen_random_hex(50)"}]}}
